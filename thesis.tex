\documentclass[%
	fontsize=11pt,% bigger font
	paper=a4,% paper size
	pagesize,% set pagesize in PDF
	twoside=false,% =oneside
	listof=totoc,%add list of figures to toc
	draft% TODO remove this!
]{scrbook}

%---------------------------------------
%---------PACKAGES----------------------
%---------------------------------------

% language
\usepackage[english]{babel}

% font config
\usepackage{libertine}
\usepackage[T1]{fontenc}

% microtype
\usepackage[
	activate={true,nocompatibility},% activate protrusion and expansion
	final,% enable microtype; use "draft" to disable
	tracking=true,% activate these techniques
	kerning=true,% -''-
	spacing=nonfrench,% activate and supress warning
	factor=1100,% add 10% to the protrusion amount (default is 1000)
	stretch=10,% reduce stretchability/shrinkability (default is 20/20)
	shrink=10% -''-
]{microtype}

% links
\usepackage{hyperref}

% math
\usepackage{amsmath}
\usepackage{amssymb}

% theorems
\usepackage{amsthm}

% graphics
\usepackage{tikz}
\usepackage{tikz-3dplot}
\usepackage{pgfplots}

% glossar
% dep: hyperref
\usepackage[
	toc% add to toc
]{glossaries}

% bibtex
% dep: hyperref
\usepackage[
	backend=biber,% nice fast backend
	style=alphabetic% how the shortcuts should look like
]{biblatex}

% units
% dep: amssymb
\usepackage{siunitx}

% subfigures
\usepackage{subfig}

% list of symbols
\usepackage[intoc]{nomencl}

% list of everything
\usepackage{tocbibind}

% algorithm
\usepackage[
	ruled,% nice lines above/beyond the algorithms
	linesnumbered% draw line numbers
]{algorithm2e}

% TODO remove this!
% debug packages
\usepackage{blindtext}


%---------------------------------------
%---------SETTINGS----------------------
%---------------------------------------

% general informaion
\title{GraBaSS: Graph Based Subspace Search}
\author{Marco Neumann}

% color
\definecolor{colcontrast}{RGB}{40,100,40}
\definecolor{colcontrast2}{RGB}{40,40,100}
\definecolor{colcontrast3}{RGB}{80,20,80}
\definecolor{colcontrast4}{RGB}{80,80,20}

% links
\hypersetup{
	colorlinks,% colored text instead of borders
	linkcolor=black,% black inter document links
	urlcolor=black,% black urls
	citecolor=black,% black cite
	pdftitle={GraBaSS: Graph Based Subspace Search},% document title (metadata)
	pdfsubject={An efficient way to find subspaces in high dimensional data sets},% document subject (metadata)
	pdfauthor={Marco Neumann},% document author (metadata)
	pdfkeywords={feature selection, graph, subspace},% document keywords (metadata)
	final% also work in draft mode, TODO remove this!
}

% tikz
\usetikzlibrary{
	arrows,
	positioning
}
\tikzset{
	>=stealth',
	axis/.style={->, very thick, >=stealth'},
	graphedge/.style={ultra thick},
	graphnode/.style={circle, draw},
	blocknode/.style={draw, minimum width=4em}
}
\newcommand*\circled[1]{\tikz[baseline={($(char.south) + (0,0.5pt)$)}]{
	\node[shape=circle,draw,inner sep=0.5pt,font=\tiny,thick] (char) {\textsf{#1}};}}

% bibtex
\addbibresource{citiation.bib}

% list of figures
\captionsetup{lofdepth=2}

% list of symbols
\makenomenclature
\renewcommand{\nomname}{List of Symbols}

% list of algorithms
\newcommand{\listofalgorithmes}{\tocfile{\listalgorithmcfname}{loa}}

% math macros
\newcommand{\set}[1]{\mathbb{#1}}
\newcommand{\card}[1]{\left|#1\right|}
\newcommand{\concat}{+\kern-0.8ex:}
\newcommand{\prob}[1]{\mathbb{P}\left(#1\right)}

% calculation helper
\newcommand{\mycalc}[2]{
	\pgfkeys{/pgf/fpu, /pgf/fpu/output format=fixed}
	\pgfmathparse{#2}
	\edef#1{\pgfmathresult}
	\pgfkeys{/pgf/fpu=false}
}

% theorems, defs, ...
\theoremstyle{plain}
\newtheorem{envtheo}{Theorem}
\theoremstyle{definition}
\newtheorem{envdef}{Definition}

%---------------------------------------
%---------LIST OF SYMBOLS---------------
%---------------------------------------
\nomenclature{$\concat$}{Append (Returns first operand with second operand appended)}
\nomenclature{$D$}{Set of all dimenions}
\nomenclature{$\card{D}$}{Total number of dimenions}
\nomenclature{$N$}{Set of all objects}
\nomenclature{$\card{N}$}{Total number of objects}
\nomenclature{$\pi_d(x)$}{Projection of point $x \in N$ to dimenion $d \in D$}


%---------------------------------------
%---------GLOSSARY----------------------
%---------------------------------------

\newglossaryentry{random number generator}
{
	name={Random Number Generator},
	description={Generates random numbers}
}

\newacronym{rng}{RNG}{\glslink{random number generator}{Random Number Generator}}

\makeglossaries% build glossary
\glsunsetall% fix acronyms


\begin{document}

\frontmatter
\maketitle
\tableofcontents

\mainmatter
\input{chapters/introduction.tex}
\input{chapters/algodesign.tex}
\input{chapters/implementation.tex}
\input{chapters/beat.tex}
\input{chapters/datasets.tex}

\appendix

\backmatter

\listoffigures

\listofalgorithmes

\printnomenclature

\printglossaries

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Bibliography}
\printbibliography

\end{document}

